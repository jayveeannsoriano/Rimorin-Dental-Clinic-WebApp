"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useDeepCompareLayoutEffect = exports.useDeepCompareEffect = void 0;
const dequal_1 = require("dequal");
const react_1 = require("react");
const useDeepCompareEffect = (callback, dependencies) => {
    const ref = (0, react_1.useRef)();
    (0, react_1.useEffect)(() => {
        if (!(0, dequal_1.dequal)(dependencies, ref.current)) {
            ref.current = dependencies;
            callback();
        }
    }, [callback, dependencies]);
};
exports.useDeepCompareEffect = useDeepCompareEffect;
const useDeepCompareLayoutEffect = (callback, dependencies) => {
    const ref = (0, react_1.useRef)();
    (0, react_1.useLayoutEffect)(() => {
        if (!(0, dequal_1.dequal)(dependencies, ref.current)) {
            ref.current = dependencies;
            callback();
        }
    }, [callback, dependencies]);
};
exports.useDeepCompareLayoutEffect = useDeepCompareLayoutEffect;
