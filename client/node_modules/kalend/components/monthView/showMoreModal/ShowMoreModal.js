"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const store_1 = require("../../../context/store");
const enums_1 = require("../../../common/enums");
const react_1 = require("react");
const EventButton_1 = __importDefault(require("../../eventButton/EventButton"));
const ShowMoreModal = () => {
    const [store, dispatch] = (0, react_1.useContext)(store_1.Context);
    const setContext = (type, payload) => {
        dispatch({ type, payload });
    };
    const { showMoreEvents } = store;
    const renderMoreEvents = () => {
        if (!showMoreEvents) {
            return [];
        }
        return showMoreEvents.events.map((event) => {
            return ((0, jsx_runtime_1.jsx)(EventButton_1.default, { item: { event }, type: enums_1.EVENT_TYPE.SHOW_MORE_MONTH }, `${event.id}${event.internalID ? event.internalID : ''}`));
        });
    };
    const events = renderMoreEvents();
    const handleClose = () => {
        setContext('showMoreEvents', null);
    };
    const preventDefault = (e) => {
        e.preventDefault();
        e.stopPropagation();
    };
    return ((0, jsx_runtime_1.jsx)("div", Object.assign({ className: 'Kalend__ShowMoreModal__wrapper', onClick: handleClose }, { children: (0, jsx_runtime_1.jsxs)("div", Object.assign({ className: 'Kalend__ShowMoreModal__container', onClick: preventDefault }, { children: [(0, jsx_runtime_1.jsx)("h6", Object.assign({ style: {
                        fontSize: 16,
                        padding: 0,
                        margin: 4,
                        marginBottom: 8,
                        textAlign: 'center',
                    } }, { children: showMoreEvents === null || showMoreEvents === void 0 ? void 0 : showMoreEvents.day.toFormat('dd. MMM') })), events] })) })));
};
exports.default = ShowMoreModal;
